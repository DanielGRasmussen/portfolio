<div class="image-slider">
  <div
    class="slider-container"
    (click)="overlayComponent.openOverlay()"
    (keydown.enter)="overlayComponent.openOverlay()"
    tabindex="0"
    (touchstart)="onTouchStart($event)"
    (touchmove)="onTouchMove($event)"
    (touchend)="onTouchEnd($event)"
    >
    <div class="slider-content">
      @for (image of images; track image; let i = $index) {
        <img
          [src]="image"
          [class.active]="i === activeIndex"
          alt="Slider image {{i + 1}}"
          >
        }
      </div>
      <button
        class="arrow left-arrow"
        [class.disabled]="activeIndex === 0"
        (click)="previousImage($event)"
        >
        <span class="arrow-icon">&#10094;</span>
      </button>
      <button
        class="arrow right-arrow"
        [class.disabled]="activeIndex === images.length - 1"
        (click)="nextImage($event)"
        >
        <span class="arrow-icon">&#10095;</span>
      </button>
    </div>

    @if (!isMobile) {
      <div class="thumbnails-container">
        <button
          class="thumbnail-arrow left-arrow"
          [class.disabled]="activeIndex === 0"
          (click)="previousImage()"
          >
          <span class="arrow-icon">&#10094;</span>
        </button>
        <div class="thumbnails">
          @for (image of images; track image; let i = $index) {
            <div
              class="thumbnail"
              [class.active]="i === activeIndex"
              (click)="goToImage(i)"
              (keydown.enter)="goToImage(i)"
              tabindex="0"
              >
              <img [src]="image" alt="Thumbnail {{i + 1}}">
            </div>
          }
        </div>
        <button
          class="thumbnail-arrow right-arrow"
          [class.disabled]="activeIndex === images.length - 1"
          (click)="nextImage()"
          >
          <span class="arrow-icon">&#10095;</span>
        </button>
      </div>
    }
    @if (isMobile) {
      <div class="dots-container">
        @for (image of images; track image; let i = $index) {
          <div
            class="dot"
            [class.active]="i === activeIndex"
            (click)="goToImage(i)"
            tabindex="0"
            (keydown.enter)="goToImage(i)"
          ></div>
        }
      </div>
    }
  </div>

  <app-overlay
    [previousImage]="previousImage"
    [nextImage]="nextImage"
    [images]="images"
    [activeIndex]="activeIndex"
  ></app-overlay>
